<!DOCTYPE html>
<html lang="en">
<!--
    Copyright Â© 2025 All rights reserved.
    This file is part of the KeyBlink App.
    Author: Ankit
-->

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>KeyBlink</title>
  <link rel="stylesheet" href="style.css" />
  <script type="module" src="firebase-init.js"></script>
  <script type="module" src="script.js"></script>
</head>

<body>
  <!-- Top Bar -->
  <div class="top-bar">
    <div class="top-left">
      <span id="greetingText">Good Morning</span>
    </div>
    <div class="top-center">keyblink.com</div>
    <div class="top-right">
      <span id="difficultyLabel" class="difficulty-label" style="display: none;">Beginner</span>
      <img id="profilePic" src="" alt="profile" class="profile-pic" style="display:none;" />
      <span id="userName" style="display:none;"></span>
      <button class="top-btn" id="themeToggle">Theme</button>
      <button class="top-btn" id="accountBtn">Account</button>
      <button class="top-btn" id="logoutBtn" style="display:none;">Log Out</button>
    </div>
  </div>

  <!-- Auth Modal -->
  <div class="auth-modal" id="authModal" style="display: none;">
    <div class="auth-box">
      <button class="close-btn" id="closeAuth">&times;</button>
      <div class="auth-content" id="authLogin">
        <h2 id="authTitle">Sign In</h2>
        <input type="email" id="emailInput" placeholder="Email" />
        <input type="password" id="passwordInput" placeholder="Password" />
        <button id="authActionBtn">Sign In</button>
        <p id="switchAuth">Don't have an account? <a href="#" class="switchLink">Sign Up</a></p>
        <div id="orDivider">or</div>
        <button id="googleSignInBtn" class="google-btn">
          <img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg" alt="G" />
          Sign in with Google
        </button>
      </div>
      <div class="auth-content" id="authHistory" style="display:none;">
        <h2>Track Record</h2>
        <table class="history-table">
          <thead>
            <tr>
              <th>Date</th>
              <th>WPM</th>
              <th>Errors</th>
              <th>Accuracy</th>
            </tr>
          </thead>
          <tbody id="historyTableBody"></tbody>
        </table>
      </div>
    </div>
  </div>

  <!-- Divider -->
  <hr class="divider" />
  <div class="progress-bar" id="progressBar"></div>

  <!-- Accessibility Bar -->
  <div class="accessibility-bar">
    <div class="word-counter-wrapper">
      <span class="live-word-count" id="wordCounter">0 / 0</span>
      <div class="uppercase-toggle-container">
        <label>
          <input type="checkbox" id="uppercaseToggle" />
          Enable Uppercase
        </label>
      </div>
    </div>

    <div class="pipe">|</div>

    <div class="type-options">
      <label><input type="radio" name="typeOption" value="words" checked> Words</label>
      <label><input type="radio" name="typeOption" value="numbers"> Numbers</label>
      <label><input type="radio" name="typeOption" value="alphanumeric"> Alphanumeric</label>
      <label><input type="radio" name="typeOption" value="symbols"> Symbols</label>
    </div>

    <div class="pipe">|</div>

    <div class="length-options">
      <button class="length-btn" data-length="10">10</button>
      <button class="length-btn" data-length="30">30</button>
      <button class="length-btn" data-length="50">50</button>
      <input type="number" id="customLength" placeholder="Custom" />
    </div>

    <div class="pipe">|</div>

    <div class="restart-timer">
      <button id="restartBtn">Restart</button>
      <button id="endBtn">End</button>
      <span class="pipe">|</span>
      <img id="clockIcon" src="Assets/timer_24dp_1F1F1F_FILL0_wght400_GRAD0_opsz24.png" alt="clock" title="30s Test"
        style="cursor: pointer;" />
      <span class="timer" id="timer">00:00</span>
    </div>
  </div>


  <!-- Typing Area -->
  <div class="typing-area">
    <div id="afkOverlay" style="display: none;">
      <div class="afk-message" id="afkMessage">
        AFK Click to continue..
      </div>
    </div>
    <div class="text-display" id="textDisplay" tabindex="0"></div>
  </div>


  <!-- Results -->
  <div class="results" id="results" style="display:none;">
    <div id="wpmDisplay">WPM: 0</div>
    <div id="errorDisplay">Errors: 0</div>
    <div id="accuracyDisplay">Accuracy: 0%</div>
    <button id="historyBtnResult" style="display:none;">View History</button>
  </div>
</body>

</html>
